version: "3.8"
services:
    backend:
        build:
            context: ./Server
            dockerfile: Dockerfile
        ports:
            - "3000:3000"
        environment:
            - DB_HOST=mysql
            - DB_USER=root
            - DB_PASSWORD=root
            - DB_NAME=NotesApp
            - Users_ACCESS_TOKEN_SECRET=secretKey-NotesApp-656503024395697824098765432456
            - Users_REFRESH_TOKEN_SECRET=secretKey-NotesApp-64584683934548658939258386585634
        depends_on:
            - mysql

    frontend:
        build:
            context: ./Front-end
            dockerfile: Dockerfile
        ports:
            - "5173:5173"

    mysql:
        image: mysql:8.0
        container_name: mysql
        ports:
            - "3306:3306"
        environment:
            MYSQL_ROOT_PASSWORD: root
            MYSQL_DATABASE: NotesApp
            MYSQL_USER: root
